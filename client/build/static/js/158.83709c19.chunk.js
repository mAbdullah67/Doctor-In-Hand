"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[158],{3321:function(e,n,t){t(2791);var a=t(184);n.Z=function(){return(0,a.jsx)("h2",{className:"nothing flex-center",children:"Nothing to show"})}},6794:function(e,n,t){t.d(n,{Z:function(){return l}});t(2791);var a=t(6355),o=t(3495),i=t(1087),r=t(184),l=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("footer",{style:{display:"none"},children:(0,r.jsxs)("div",{className:"footer",children:[(0,r.jsxs)("div",{className:"footer-links",children:[(0,r.jsx)("h3",{children:"Links"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(i.OL,{to:"/",children:"Home"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i.OL,{to:"/doctors",children:"Doctors"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i.OL,{to:"/appointments",children:"Appointments"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i.OL,{to:"/notifications",children:"Notifications"})}),(0,r.jsx)("li",{children:(0,r.jsx)(o.fO,{to:"/#contact",children:"Contact Us"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i.OL,{to:"/profile",children:"Profile"})})]})]}),(0,r.jsxs)("div",{className:"social",children:[(0,r.jsx)("h3",{children:"Social links"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{className:"facebook",children:(0,r.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",children:(0,r.jsx)(a.tBk,{})})}),(0,r.jsx)("li",{className:"youtube",children:(0,r.jsx)("a",{href:"https://www.youtube.com/",target:"_blank",rel:"noreferrer",children:(0,r.jsx)(a.V2E,{})})}),(0,r.jsx)("li",{className:"instagram",children:(0,r.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noreferrer",children:(0,r.jsx)(a.Zf_,{})})})]})]})]})})})}},3158:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var a=t(4165),o=t(5861),i=t(9439),r=t(2791),l=t(4942),s=t(1413),c=t(3263),d=t(3402),u=t(4373),m=t(928),v=t(9434),h=t(184),p=function(e){var n=e.setModalOpen,t=e.ele,p=(0,v.v9)((function(e){return e.root})).userInfo;console.log(t);var x=(0,r.useState)({date:"",time:""}),f=(0,i.Z)(x,2),j=f[0],g=f[1],b=(0,r.useState)([]),k=(0,i.Z)(b,2),N=(k[0],k[1],t.availabilityStartHour,t.availabilityEndHour,t.availabilityStartHour,t.availabilityEndHour,function(e){var n=e.target,t=n.name,a=n.value;return g((0,s.Z)((0,s.Z)({},j),{},(0,l.Z)({},t,a)))}),w=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(o){var i,r,l,s,u,v,h;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.preventDefault(),""!==j.date&&""!==j.time){e.next=3;break}return e.abrupt("return",d.ZP.error("Please select date and time"));case 3:if(!(new Date("".concat(j.date," ").concat(j.time))<new Date)){e.next=6;break}return e.abrupt("return",d.ZP.error("Please select a future date and time"));case 6:return e.prev=6,e.next=9,d.ZP.promise(c.Z.post("/appointment/bookappointment",{doctorId:null===t||void 0===t||null===(i=t.userId)||void 0===i?void 0:i._id,date:j.date,time:j.time,doctorname:"".concat(null===t||void 0===t||null===(r=t.userId)||void 0===r?void 0:r.firstname," ").concat(null===t||void 0===t||null===(l=t.userId)||void 0===l?void 0:l.lastname)},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),{success:"Appointment booked successfully",loading:"Booking appointment...",error:function(e){var n,t;return null!==e&&void 0!==e&&null!==(n=e.response)&&void 0!==n&&n.data?null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data:"Unable to book appointment"}});case 9:return m.ZP.init({publicKey:"VEwLD80C9K4BI2dke",blockHeadless:!0}),e.next=12,m.ZP.send(null!==(s="service_huw2iqj")?s:"",null!==(u="template_dr6rruy")?u:"",{from_name:"Doctor In Hand",to_name:t.userId.firstname,to_email:t.userId.email,email:t.userId.email,message:"You have an appointment with ".concat(p.firstname," ").concat(p.lastname," on ").concat(j.date," at ").concat(j.time),reply_to:p.email});case 12:return e.next=14,m.ZP.send(null!==(v="service_huw2iqj")?v:"",null!==(h="template_dr6rruy")?h:"",{from_name:"Doctor In Hand",to_name:p.firstname,to_email:p.email,email:p.email,message:"You booked an appointment with Dr. ".concat(t.userId.firstname," for ").concat(j.date," at ").concat(j.time),reply_to:t.userId.email});case 14:n(!1),e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(6),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(n){return e.apply(this,arguments)}}();return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"modal flex-center",children:(0,h.jsxs)("div",{className:"modal__content",children:[(0,h.jsx)("h2",{className:"page-heading",children:"Book Appointment"}),(0,h.jsx)(u.QAE,{onClick:function(){n(!1)},className:"close-btn"}),(0,h.jsx)("div",{className:"register-container flex-center book",children:(0,h.jsxs)("form",{className:"register-form",children:[(0,h.jsx)("input",{type:"date",name:"date",className:"form-input",value:j.date,onChange:N}),(0,h.jsx)("select",{name:"time",className:"form-input",value:j.time,onChange:N,children:function(){for(var e=[],n=t.availabilityStartHour,a=t.availabilityEndHour+24;n<=a;){var o=n%24,i=o<12?"AM":"PM",r=0===o?12:o>12?o-12:o;e.push((0,h.jsx)("option",{value:"".concat(r,":00 ").concat(i),children:"".concat(r,":00 ").concat(i)},"".concat(o,"-").concat(i))),n++}return e}()}),(0,h.jsx)("button",{type:"submit",className:"btn form-btn",onClick:w,children:"book"})]})})]})})})},x=function(e){var n,t,a,o,l=e.ele,s=(0,r.useState)(!1),c=(0,i.Z)(s,2),u=c[0],m=c[1],v=(0,r.useState)(localStorage.getItem("token")||""),x=(0,i.Z)(v,2),f=x[0];x[1];return(0,h.jsxs)("div",{className:"card",children:[(0,h.jsx)("div",{className:"card-img flex-center",children:(0,h.jsx)("img",{src:(null===l||void 0===l||null===(n=l.userId)||void 0===n?void 0:n.pic)||"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg",alt:"profile"})}),(0,h.jsxs)("h3",{className:"card-name",children:["Dr. ",(null===l||void 0===l||null===(t=l.userId)||void 0===t?void 0:t.firstname)+" "+(null===l||void 0===l||null===(a=l.userId)||void 0===a?void 0:a.lastname)]}),(0,h.jsxs)("p",{className:"specialization",children:[(0,h.jsx)("strong",{children:"Specialization: "}),null===l||void 0===l?void 0:l.specialization]}),(0,h.jsxs)("p",{className:"experience",children:[(0,h.jsx)("strong",{children:"Experience: "}),null===l||void 0===l?void 0:l.experience,"yrs"]}),(0,h.jsxs)("p",{className:"fees",children:[(0,h.jsx)("strong",{children:"Fees per consultation: "}),"PKR ",null===l||void 0===l?void 0:l.fees]}),(0,h.jsxs)("p",{className:"phone",children:[(0,h.jsx)("strong",{children:"Phone: "}),null===l||void 0===l||null===(o=l.userId)||void 0===o?void 0:o.mobile]}),(0,h.jsxs)("p",{className:"location",style:{maxWidth:"300px"},children:[(0,h.jsx)("strong",{children:"Location: "}),null===l||void 0===l?void 0:l.location]}),(0,h.jsxs)("p",{className:"location",style:{maxWidth:"300px"},children:[(0,h.jsx)("strong",{children:"Availability: "}),function(e,n){var t=e<12?"AM":"PM",a=n<12?"AM":"PM",o=0===n?12:n>12?n-12:n,i="".concat(0===e?12:e>12?e-12:e," ").concat(t),r="".concat(o," ").concat(a);return"".concat(i," - ").concat(r)}(null===l||void 0===l?void 0:l.availabilityStartHour,null===l||void 0===l?void 0:l.availabilityEndHour)]}),(0,h.jsx)("button",{className:"btn appointment-btn",onClick:function(){if(""===f)return d.Am.error("You must log in first");m(!0)},children:"Book Appointment"}),u&&(0,h.jsx)(p,{setModalOpen:m,ele:l})]})},f=t(6794),j=t(4956),g=t(4971),b=t(3200),k=t(5318),N=t(3321),w=function(){var e=(0,r.useState)([]),n=(0,i.Z)(e,2),t=n[0],l=n[1],s=(0,v.I0)(),c=(0,v.v9)((function(e){return e.root})).loading,d=(0,r.useState)(""),u=(0,i.Z)(d,2),m=u[0],p=u[1],w=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s((0,k.K4)(!0)),e.next=3,(0,g.Z)("/doctor/getalldoctors");case 3:n=e.sent,l(n),console.log(n),s((0,k.K4)(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){w()}),[]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(j.Z,{}),c&&(0,h.jsx)(b.Z,{}),!c&&(0,h.jsxs)("section",{className:"container doctors",children:[(0,h.jsx)("h2",{className:"page-heading",children:"Our Doctors"}),(0,h.jsx)("section",{className:"doctors-search",children:(0,h.jsx)("input",{type:"search",name:"search",className:"form-input",placeholder:"Search Doctors...",value:m,onChange:function(e){p(e.target.value)}})}),0===t.length||0===t.filter((function(e){var n,t,a,o,i,r;return(null===e||void 0===e||null===(n=e.specialization)||void 0===n||null===(t=n.toLowerCase())||void 0===t?void 0:t.includes(m.toLowerCase()))||(null===(a=(null===e||void 0===e||null===(i=e.userId)||void 0===i?void 0:i.firstname)+" "+(null===e||void 0===e||null===(r=e.userId)||void 0===r?void 0:r.lastname))||void 0===a||null===(o=a.toLowerCase())||void 0===o?void 0:o.includes(m.toLowerCase()))})).length?(0,h.jsx)(N.Z,{}):(0,h.jsx)("div",{className:"doctors-card-container",children:t.filter((function(e){var n,t,a,o,i,r;return(null===e||void 0===e||null===(n=e.specialization)||void 0===n||null===(t=n.toLowerCase())||void 0===t?void 0:t.includes(m.toLowerCase()))||(null===(a=(null===e||void 0===e||null===(i=e.userId)||void 0===i?void 0:i.firstname)+" "+(null===e||void 0===e||null===(r=e.userId)||void 0===r?void 0:r.lastname))||void 0===a||null===(o=a.toLowerCase())||void 0===o?void 0:o.includes(m.toLowerCase()))})).map((function(e){return(0,h.jsx)(x,{ele:e},e._id)}))})]}),(0,h.jsx)(f.Z,{})]})}}}]);
//# sourceMappingURL=158.83709c19.chunk.js.map